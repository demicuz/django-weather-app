{% extends "base.html" %}

{% block title %}
	Weather in {{ weather.city }}
{% endblock %}

{% block content %}
	<h2 class="text-center">{{ weather.city }}</h2>
	<p class="text-center pb-4">{% now "F j, H:i" %}</p>

	<div class="d-flex justify-content-between align-items-start pb-5">

		<div class="d-flex flex-column flex-grow-1"
			style="min-width: 15rem; max-width: 20rem;">

			<h4 class="pb-1"><mark class="p-1">{{ weather.temp|floatformat:0 }}° C</mark></h4>
			<span class="text-muted pb-2">{{ weather.description|capfirst }}</span>

			<div class="d-flex flex-column" style="gap: 0.5rem;">

				<div class="d-flex justify-content-between align-items-end">
					<div class="text-muted">feels like</div>
					<div class="border-bottom flex-grow-1 mb-1"></div>
					<div class="fs-5">{{ weather.feels_like|floatformat:1 }}° C</div>
				</div>

				<div class="d-flex justify-content-between align-items-end">
					<div class="text-muted">wind speed</div>
					<div class="border-bottom flex-grow-1 mb-1"></div>
					<div class="fs-5">{{ weather.wind_speed|floatformat:1 }} m/s</div>
				</div>

				<div class="d-flex justify-content-between align-items-end">
					<div class="text-muted">pressure</div>
					<div class="border-bottom flex-grow-1 mb-1"></div>
					<div class="fs-5">{{ weather.pressure }} hPa</div>
				</div>

				<div class="d-flex justify-content-between align-items-end">
					<div class="text-muted">humidity</div>
					<div class="border-bottom flex-grow-1 mb-1"></div>
					<div class="fs-5">{{ weather.humidity }}%</div>
				</div>

			</div>
		</div>

		<div class="d-inline-flex flex-column align-items-center">
			<img
				class="img-fluid"
				src="http://openweathermap.org/img/w/{{ weather.icon_name }}.png"
				alt="Weather icon">

			<span class="text-muted">{{ weather.desc_short }}</span>
		</div>

	</div>

	<div class="d-flex justify-content-center">
	  <!-- <iframe width="650" height="450"
	        src="https://embed.windy.com/embed2.html?lat=55.752&lon=37.615&detailLat=55.752&detailLon=37.615&width=650&height=450&zoom=5&level=surface&overlay=wind&product=ecmwf&menu=&message=&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=default&metricTemp=%C2%B0C&radarRange=-1"
	        frameborder="0"></iframe> -->
    <iframe width="650" height="450"
	        src="https://embed.windy.com/embed2.html?lat={{ weather.city.latitude }}&lon={{ weather.city.longitude }}&detailLat={{ weather.city.latitude }}&detailLon={{ weather.city.longitude }}&width=650&height=450&zoom=8&level=surface&overlay=wind&product=ecmwf&menu=&message=&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=default&metricTemp=%C2%B0C&radarRange=-1"
	        frameborder="0"></iframe>
	</div>
{% endblock content %}
